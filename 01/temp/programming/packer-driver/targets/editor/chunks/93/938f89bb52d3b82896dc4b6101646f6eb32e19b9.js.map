{"version":3,"sources":["file:///Users/liheng/project/cocos/game_code/01/assets/Script/AtomMove.ts"],"names":["_decorator","Component","Node","Vec2","randomRange","ccclass","property","AtomMove","randoVec2","start","getRandomDir","node","on","EventType","MOUSE_DOWN","whenMouseDown","update","deltaTime","x","position","newX","moveSpeed","y","newY","setPosition","Math","cos","PI","sin","normalize","destroy","window"],"mappings":";;;;;;;;;;;;;;AAASA,MAAAA,U,OAAAA,U;AAAYC,MAAAA,S,OAAAA,S;AAAWC,MAAAA,I,OAAAA,I;AAAMC,MAAAA,I,OAAAA,I;AAAMC,MAAAA,W,OAAAA,W;;;;;;;OACtC;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBN,U;;0BAGjBO,Q,WADZF,OAAO,CAAC,UAAD,C,2BAAR,MACaE,QADb,SAC8BN,SAD9B,CACwC;AAAA;AAAA;;AAAA;;AAAA,eAK5BO,SAL4B,GAKR,IAAIL,IAAJ,EALQ;AAAA;;AAOpCM,QAAAA,KAAK,GAAG;AACJ,eAAKC,YAAL;AACA,eAAKC,IAAL,CAAUC,EAAV,CAAaV,IAAI,CAACW,SAAL,CAAeC,UAA5B,EAAwC,KAAKC,aAA7C,EAA4D,IAA5D;AACH;;AAEDC,QAAAA,MAAM,CAACC,SAAD,EAAoB;AACtB,cAAIC,CAAsB,GAAG,KAAKP,IAAL,CAAUQ,QAAV,CAAmBD,CAAhD;AACA,cAAIE,IAAI,GAAGF,CAAC,GAAG,KAAKG,SAAL,GAAiBJ,SAAjB,GAA6B,KAAKT,SAAL,CAAeU,CAA3D;AAEA,cAAII,CAAsB,GAAG,KAAKX,IAAL,CAAUQ,QAAV,CAAmBG,CAAhD;AACA,cAAIC,IAAI,GAAGD,CAAC,GAAG,KAAKD,SAAL,GAAiBJ,SAAjB,GAA6B,KAAKT,SAAL,CAAec,CAA3D;AAEA,eAAKX,IAAL,CAAUa,WAAV,CAAsBJ,IAAtB,EAA4BG,IAA5B;AACH;;AAEDb,QAAAA,YAAY,GAAE;AACV,eAAKF,SAAL,CAAeU,CAAf,GAAmBO,IAAI,CAACC,GAAL,CAAStB,WAAW,CAAC,CAAC,GAAF,EAAO,GAAP,CAAX,IAA0BqB,IAAI,CAACE,EAAL,GAAS,GAAnC,CAAT,CAAnB;AACA,eAAKnB,SAAL,CAAec,CAAf,GAAmBG,IAAI,CAACG,GAAL,CAASxB,WAAW,CAAC,CAAC,GAAF,EAAO,GAAP,CAAX,IAA0BqB,IAAI,CAACE,EAAL,GAAU,GAApC,CAAT,CAAnB;AACA,eAAKnB,SAAL,CAAeqB,SAAf;AACH,SA1BmC,CA2BpC;;;AACAd,QAAAA,aAAa,GAAE;AACX,eAAKJ,IAAL,CAAUmB,OAAV;AACAC,UAAAA,MAAM,CAAC,OAAD,CAAN;AACH;;AA/BmC,O,4EAEnCzB,Q;;;;;iBACW,I","sourcesContent":["import { _decorator, Component, Node, Vec2, randomRange } from 'cc';\nconst { ccclass, property } = _decorator;\n\n@ccclass('AtomMove')\nexport class AtomMove extends Component {\n\n    @property\n    moveSpeed = 20.0;\n\n    private randoVec2 : Vec2  = new Vec2();\n\n    start() {\n        this.getRandomDir();\n        this.node.on(Node.EventType.MOUSE_DOWN, this.whenMouseDown, this);\n    }\n\n    update(deltaTime: number) {\n        let x : number | undefined = this.node.position.x;\n        let newX = x + this.moveSpeed * deltaTime * this.randoVec2.x;\n\n        let y : number | undefined = this.node.position.y;\n        let newY = y + this.moveSpeed * deltaTime * this.randoVec2.y;\n\n        this.node.setPosition(newX, newY);\n    }\n\n    getRandomDir(){\n        this.randoVec2.x = Math.cos(randomRange(-180, 180) * (Math.PI/ 180));\n        this.randoVec2.y = Math.sin(randomRange(-180, 180) * (Math.PI / 180));\n        this.randoVec2.normalize();\n    }\n    // 设置点击事件\n    whenMouseDown(){\n        this.node.destroy();\n        window[\"score\"]++;\n    }\n}\n\n"]}